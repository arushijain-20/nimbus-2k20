{"version":3,"sources":["context/GlobalContext.jsx","config.js","containers/LogIn/Login.jsx","containers/Dashboard/Dashboard.jsx","containers/Main/Main.jsx","App.js","reportWebVitals.js","index.js"],"names":["GlobalContext","React","createContext","CONSTANTS","Login","useContext","setAuthToken","setRefreshToken","authToken","setUser","useState","username","password","form","setForm","handleChange","e","target","name","value","handleSubmit","a","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","console","log","access","_user","image","refresh","localStorage","setItem","Date","getTime","message","className","onSubmit","htmlFor","required","type","id","onChange","placeholder","autoComplete","Dashboard","user","src","alt","Main","refreshToken","useEffect","_authToken","getItem","_refreshToken","parse","expires","Provider","App","path","exact","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d40ce0cb.chunk.js","sourcesContent":["import React from \"react\";\nconst GlobalContext = React.createContext();\nexport default GlobalContext;\n","export const CONSTANTS = {\n  BASE_URL: \"http://13.71.16.202:8000/\",\n};\n","import React, { useContext, useState } from \"react\";\nimport GlobalContext from \"../../context/GlobalContext\";\n// import \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./Login.scss\";\nimport { CONSTANTS } from \"../../config\";\n\nexport default function Login() {\n  const { setAuthToken, authToken, setRefreshToken, setUser } = useContext(\n    GlobalContext\n  );\n\n  // FORM\n  const [form, setForm] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  const handleChange = (e) => {\n    if (e.target) setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      let response = await fetch(\n        CONSTANTS.BASE_URL + \"departments/auth/token/\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(form),\n        }\n      );\n      let data = await response.json();\n      console.log(data);\n      if (data.access) {\n        let _user = { name: data.name, image: data.image };\n        setAuthToken(data.access);\n        setRefreshToken(data.refresh);\n        setUser(_user);\n        localStorage.setItem(\"authToken\", data.access);\n        localStorage.setItem(\"refreshToken\", data.refresh);\n        localStorage.setItem(\"user\", JSON.stringify(_user));\n        localStorage.setItem(\n          \"expires\",\n          new Date().getTime() + 23 * 3600 * 1000\n        );\n      }\n    } catch (err) {\n      console.log(\"Error Getting Auth Token - Err : \", err.message);\n    }\n  };\n\n  return (\n    <div className=\"main\">\n      <div className=\"heading\">\n        <h1>Nimbus</h1>\n      </div>\n      <div className=\"container\">\n        <div className=\"login\">\n          <div className=\"info info-2\">Nimbus Events</div>\n          <div className=\"info\">Create Read Update Delete</div>\n          <div className=\"form-container\">\n            <div className=\"heading\">\n              <h1>Admin</h1>\n              <h3>NIMBUS Clubs and Event Managers</h3>\n            </div>\n            <form onSubmit={handleSubmit}>\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"username\">Username</label>\n                  <input\n                    required\n                    className=\"form-control\"\n                    type=\"text\"\n                    id=\"username\"\n                    name=\"username\"\n                    value={form.username}\n                    onChange={handleChange}\n                    placeholder=\"username\"\n                    autoComplete=\"off\"\n                  />\n                </div>\n              </div>\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"password\">Password</label>\n                  <input\n                    required\n                    className=\"form-control\"\n                    type=\"password\"\n                    id=\"password\"\n                    name=\"password\"\n                    value={form.password}\n                    onChange={handleChange}\n                    placeholder=\"********\"\n                    autoComplete=\"off\"\n                  />\n                </div>\n              </div>\n              <div className=\"form-row\">\n                <button type=\"submit\" className=\"btn-submit\">\n                  Login\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useContext } from \"react\";\nimport GlobalContext from \"../../context/GlobalContext\";\nimport \"./Dashboard.scss\";\n\nexport default function Dashboard() {\n  const { user } = useContext(GlobalContext);\n  return (\n    <div className=\"main dashboard\">\n      <div className=\"heading\">\n        <h1>{user?.name}</h1>\n        <img src={user.image} alt=\"avatar\" className=\"avatar\" />\n      </div>\n      <div className=\"container\">Hello</div>\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport \"./Main.scss\";\n\nimport GlobalContext from \"../../context/GlobalContext\";\nimport Login from \"../LogIn/Login\";\nimport Dashboard from \"../Dashboard/Dashboard\";\nimport { CONSTANTS } from \"../../config\";\n\nexport default function Main() {\n  const [authToken, setAuthToken] = useState(null);\n  const [refreshToken, setRefreshToken] = useState(null);\n  const [user, setUser] = useState(\"Club\");\n\n  // FUNCTIONS\n\n  // EFFECTS\n  useEffect(() => {\n    // Get Local Auth Token\n    let _authToken = localStorage.getItem(\"authToken\");\n    let _refreshToken = localStorage.getItem(\"refreshToken\");\n    let _user = JSON.parse(localStorage.getItem(\"user\"));\n    let expires = localStorage.getItem(\"expires\");\n    if (_authToken && expires > new Date().getTime()) {\n      console.log(\"Got Local Auth Token\");\n      setAuthToken(_authToken);\n      setRefreshToken(_refreshToken);\n      setUser(_user);\n    }\n  }, []);\n\n  return (\n    <GlobalContext.Provider\n      value={{\n        authToken,\n        setAuthToken,\n        refreshToken,\n        setRefreshToken,\n        user,\n        setUser,\n      }}\n    >\n      {!authToken ? <Login /> : <Dashboard />}\n    </GlobalContext.Provider>\n  );\n}\n","import \"./App.css\";\nimport Main from \"./containers/Main/Main\";\nimport { Route, Link, BrowserRouter as Router } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <Router>\n      <Route path=\"/admin\" exact component={Main} />\n      <Route path=\"/events\" exact>\n        <div>Events Here</div>\n      </Route>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}